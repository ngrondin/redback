<div
    class="rb-df-container">
    <div
        *ngFor="let object of sortedVisibleList"
        class="rb-df-line">
        <div
            class="rb-df-category"
            *ngIf="isFirstInCategory(object) && categoryattribute != null && object.get(categoryattribute) != null">
            {{object.get(categoryattribute)}}
        </div>
        <div
            *ngIf="titleattribute != null && object.get(titleattribute)"
            class="rb-df-linetitle">
            {{object.get(titleattribute)}}
        </div>
        <div
            class="rb-df-lineinput rb-df-headspace"
            *ngIf="getTypeOf(object) == 'string'">
            <rb-input
                style="margin-bottom: -15px;"
                [object]="object"
                [attribute]="valueattribute"
                [size]="20"
                [icon]="'description'"
                [label]="object.get(labelattribute)"
                [editable]="editable">
            </rb-input>
        </div>
        <div
            class="rb-df-lineinput rb-df-headspace"
            *ngIf="getTypeOf(object) == 'textarea'">
            <rb-textarea-input
                style="margin-bottom: -15px;"
                [object]="object"
                [attribute]="valueattribute"
                [size]="30"
                [rows]="3"
                [icon]="'description'"
                [label]="object.get(labelattribute)"
                [editable]="editable">
            </rb-textarea-input>
        </div>        
        <div
            class="rb-df-lineinput rb-df-headspace"
            *ngIf="getTypeOf(object) == 'choice'">
            <rb-choice-input
                style="margin-bottom: -15px;"
                [object]="object"
                [attribute]="valueattribute"
                [choicelist]="object.get(optionsattribute)"
                [size]="20"
                [icon]="'description'"
                [label]="object.get(labelattribute)"
                [editable]="editable"
                (change)="calcSortedVisibleList()">
            </rb-choice-input>
        </div>        
        <div
            class="rb-df-lineinput rb-df-headspace"
            *ngIf="getTypeOf(object) == 'files'">
            <mat-icon
                style="color:gray; width:30px">
                attach_file
            </mat-icon>
            <div
                class="rb-df-lineinput-vert">
                <div
                    class="rb-df-linelabel">
                    {{object.get(labelattribute)}}
                </div>
                <rb-fileset
                    #fileset="fileset"
                    [object]="object.objectname"
                    [relatedObject]="object"
                    [active]="true">
                        <rb-filedrop
                            [uploader]="fileset.uploader"
                            (dropped)="fileset.upload($event)">
                            <rb-filelist
                                [list]="fileset.list"
                                [details]="false"
                                [downloadOnSelect]="true">
                            </rb-filelist>
                        </rb-filedrop>
                </rb-fileset>
            </div>
        </div>
        <div
            class="rb-df-lineinput rb-df-headspace"
            *ngIf="getTypeOf(object) == 'signature'">
            <mat-icon
                style="color:gray; width:30px">
                gesture
            </mat-icon>
            <div
                class="rb-df-lineinput-vert">
                <div
                    class="rb-df-linelabel">
                    {{object.get(labelattribute)}}
                </div>
                <rb-file-input
                    [object]="object"
                    [attribute]="valueattribute"
                    [editable]="editable">
                </rb-file-input>
            </div>
        </div>        
        <div
            class="rb-df-lineinput"
            *ngIf="getTypeOf(object) == 'checkbox'">
            <rb-switch-input
                [object]="object"
                [attribute]="valueattribute"
                [icon]="'description'"
                [label]="object.get(labelattribute)"
                [editable]="editable"
                (change)="calcSortedVisibleList()">
            </rb-switch-input>
        </div>                
        <div
            class="rb-df-lineinput rb-df-headspace"
            *ngIf="getTypeOf(object) == 'number'">
            <rb-input
                style="margin-bottom: -15px;"            
                [object]="object"
                [attribute]="valueattribute"
                [size]="20"
                [icon]="'description'"
                [label]="object.get(labelattribute)"
                [type]="'number'"
                [editable]="editable">
            </rb-input>
        </div>
        <div
            class="rb-df-lineinput"
            *ngIf="getTypeOf(object) == 'unknown'">
            Unknown type<br><br>
        </div> 
        <div
            *ngIf="object.get(detailattribute) != null"
            class="rb-df-linedetail">
            {{object.get(detailattribute)}}
        </div>
    </div>
</div>
<div
    class="rb-spinner-container"
    *ngIf="isLoading">
    <mat-spinner
        diameter="20">
    </mat-spinner>
</div>	