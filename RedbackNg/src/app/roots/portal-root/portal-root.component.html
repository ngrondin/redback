<mat-toolbar>
    <mat-toolbar-row>
        <img 
            [src]="logoUrl"
            class="rb-toolbar-logo"/>
        &nbsp;&nbsp;
        <span
            class="rb-toolbar-title">
            {{apptitle}}
        </span>
        <div
            class="rb-toolbar-spacer">
        </div>
        <rb-global-search>
        </rb-global-search>
        <rb-clickable
            #usermenubutton
            class="rb-toolbar-username"
            (click)="openUserMenu()">
            <span>
                {{userdisplay}}
            </span>
        </rb-clickable>
        
    </mat-toolbar-row>
</mat-toolbar>
<mat-sidenav-container
    [hasBackdrop]="false"
    autosize>
    <mat-sidenav 
        mode="side" 
        position="start"
        disableClose="true"
        opened>
        <rb-menu
            [look]="userprefService.getGlobalPreferenceValue('uialt')"
            [lockmode]="'small'"
            [showcontrols]="false">
        </rb-menu>
    </mat-sidenav>
    <mat-sidenav 
        #rightdrawer
        mode="over" 
        position="end"> 
        <rb-preferences
            *ngIf="rightDrawerShowing == 'prefs'"
            (close)="closeRightDrawer()">
        </rb-preferences>
    </mat-sidenav>    
    <mat-sidenav-content>
        <rb-vsection>
            <rb-view-header>
            </rb-view-header>
            <rb-view-loader >
            </rb-view-loader>
        </rb-vsection>
    </mat-sidenav-content>
</mat-sidenav-container>
<div
    class="rb-footer">
    <div
        [class]="'rb-footer-indicator' + (clientWSServer.isConnected() ? ' rb-footer-indicator-on' : '')">
    </div>
</div>
<div
    class="rb-drag-box"
    [style.visibility]="dragService.isDragging ? 'visible' : 'hidden'"
    [style.left.px]="dragService.position != null ? dragService.position.x : 0"
    [style.top.px]="dragService.position != null ? dragService.position.y : 0"
    [style.width.px]="dragService.size != null ? dragService.size.x : 0"
    [style.height.px]="dragService.size != null ? dragService.size.y : 0"
    [innerHTML]="dragService.innerHTML">
</div>
